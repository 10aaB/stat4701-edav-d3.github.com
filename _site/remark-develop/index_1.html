<!DOCTYPE html>
<html>
  <head>
    <title>Stephen and Danny's D3 Mapping Presentation</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <style type="text/css">
      @import url(http://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(http://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(http://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
    </style>
  </head>
  <body>
    <textarea id="source">

class: center, middle


# Stephen and Danny's D3 Mapping Presentation:
![googlemap](https://raw.githubusercontent.com/stat4701-edav-d3/stat4701-edav-d3.github.com/master/remark-develop/img/googlemap.jpg)   
# A Crash Course from Shapefile to TopoJSON (and some GeoJSON) using GDAL/OGR

---

# Agenda

1. Introduction
2. Getting a Shapefile
3. Conversion 
4. TopoJSON vs. GeoJSON
5. Flu Data
6. D3 Examples and Inspiration


X. Maybe a demo that people can follow to do a very basic d3 map (maybe not, seems like this browser issues and others could be a huge pain)
X. Maybe do something with CartoDB at the end. If no one else is talking about it, it could be useful to at least mention and show a few things.
---

# 1. Introduction

    some code

![googlemap](https://raw.githubusercontent.com/stat4701-edav-d3/stat4701-edav-d3.github.com/master/remark-develop/img/googlemap.jpg)    
---

# 2. Getting a Shapefile

#Download Shapefile 
import urllib

zipLoc = "/Users/danielmsheehan/GitHub/d3-presentation/data/census/states/cb_2013_us_state_20m.zip"
urllib.urlretrieve ("http://www2.census.gov/geo/tiger/GENZ2013/cb_2013_us_state_20m.zip", zipLoc)

import zipfile  
  
zip = zipfile.ZipFile(zipLoc)  
zip.extractall("/Users/danielmsheehan/GitHub/d3-presentation/data/census/states/") 


---

# 3. Conversion

##GDAL/OGR

Using [GDAL/OGR](http://www.gdal.org/) convert the Shapefile to JSON. 

    ogr2ogr -f GeoJSON /Users/danielmsheehan/GitHub/d3-presentation/data/census/states/states.json /Users/danielmsheeha        n/GitHub/d3-presentation/data/census/states/cb_2013_us_state_20m.shp

Then, after installing node.js, we can create TopoJson
    
    topojson /Users/danielmsheehan/GitHub/d3-presentation/data/census/states/states.topo.json /Users/danielmsheehan/GitHub/d3-presentation/data/census/states/states.json

More simply:
    topojson states_cln.topo.json states.json
    
[So here's this TopoJSON file in a simple plot](http://stat4701-edav-d3.github.io/viz/plot_json.html)  


---

# 4. TopoJSON vs. GeoJSON

![Size compression for country data](http://commondatastorage.googleapis.com/imgserv%2Ffilesize.png)


---

# Data

##[CDC](http://www.cdc.gov/flu/weekly/fluactivitysurv.htm)

##[Google Flu Trends](https://www.google.org/flutrends/us/#US)
![GoogleFluTrends](https://raw.githubusercontent.com/stat4701-edav-d3/stat4701-edav-d3.github.com/master/remark-develop/img/google_flu_trends.png)


###Cities Lat/Longs
![cities](https://raw.githubusercontent.com/stat4701-edav-d3/stat4701-edav-d3.github.com/master/remark-develop/img/seeing-latlngs-in-source-from-google-trends.png)
![citiesxcode](https://raw.githubusercontent.com/stat4701-edav-d3/stat4701-edav-d3.github.com/master/remark-develop/img/seeing-latlngs-in-xcode.png)



---

# What's not cool about D3

    some code

![googlemap](https://raw.githubusercontent.com/stat4701-edav-d3/stat4701-edav-d3.github.com/master/remark-develop/img/googlemap.jpg)  


---



[GDAL/OGR](http://nbviewer.ipython.org/github/stat4701-edav-d3/d3-presentation/blob/master/01-read-in-source-data-for-all-sources.ipynb#GDAL/OGR)


    </textarea>
    <script src="http://gnab.github.io/remark/downloads/remark-0.5.9.min.js" type="text/javascript">
    </script>
    <script type="text/javascript">
      var slideshow = remark.create();
    </script>
  </body>
</html>
